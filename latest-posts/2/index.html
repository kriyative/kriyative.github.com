<html lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="content-type" /><meta charset="UTF-8" /><meta content="" name="description" /><meta name="keywords" /><meta name="author" /><link href="/assets/favicon.ico" rel="icon" type="image/x-icon" /><link href="/assets/favicon.ico" rel="shortcut icon" type="image/x-icon" /><link href="/default.css" rel="stylesheet" type="text/css" /><link href="/rss.xml" rel="alternate" type="application/rss+xml" /><link href="http://fonts.googleapis.com/css?family=Snowburst+One" rel="stylesheet" type="text/css" /><title></title></head><body><header id="banner"><div class="sleeve"><hgroup id="nameplate"><h1 id="title"><a href="/"></a></h1><h2 id="description"></h2></hgroup><nav id="toc"><ul id="menu"><li class="menu-item"><a href="/archives">Archives</a></li><li class="menu-item"><a href="/tags">Tags</a></li><li class="menu-item"><a href="/rss.xml">Subscribe</a></li></ul></nav></div></header><div id="main"><div class="sleeve"><div id="content"><article class="post format-standard"><header class="post-header"><h1 class="post-title"><a href="/2010/02/10/snapshot-of-ecl-for-iphone/">Snapshot of ECL for iPhone</a></h1><p class="post-meta">Posted on 10 Feb 2010</p></header><div class="post-content"><p>
I've uploaded a snapshot of fully patched ECL-9.12.3, and Boehm GC
sources to help anyone trying to build this environment from
scratch. I realize a lot of the external dependencies tend to be in
flux, so hopefully this snapshot will provide a fully functional
starting point.
</p>

<p>
The snapshot is available at:
<a href="http://github.com/kriyative/ecl-iphone-snapshot">http://github.com/kriyative/ecl-iphone-snapshot</a>
</p>

<p>
The snapshot includes:
</p>

<pre class="example">
README
build.sh
bdwgc/
ecl/
eclshell/
iphone/
</pre>

<p>
The bdwgc/ and ecl/ directories contain the patched sources for Boehm
GC, and ECL 9.12.3. The eclshell/ folder has the sources for the
sample iPhone app, including a snapshot of slime (CVS head as of
2010-01-29).
</p>

<p>
The iphone/ folder contains the built product &#x2013; a set of header and
static library files built for the iPhone architecture. The
iphone/universal/ folder contains `fat' versions of the libraries
which maybe used with either simulator or device builds.
</p>

<p>
As always, feedback and patches are welcome.
</p>

<p>
UPDATE: I moved to a github repo for the snapshot as well. It's easier
this way to track any patches that may arise.
</p>
</div><footer class="post-footer"></footer></article><article class="post format-standard"><header class="post-header"><h1 class="post-title"><a href="/2010/01/29/my-other-lisp-blog/">my other lisp blog</a></h1><p class="post-meta">Posted on 29 Jan 2010</p></header><div class="post-content"><p>
I haven't been working in Clojure for a couple of months now, hence
the absence of new posts here.
</p>

<p>
However, I have been posting some updates on my other Lisp related
blog (yes, I have two Lisp blogs :) &#x2026; about my work in porting the
Embedded Common Lisp system to the iPhone. Sound interesting, check it
out at:
</p>
</div><footer class="post-footer"></footer></article><article class="post format-standard"><header class="post-header"><h1 class="post-title"><a href="/2010/01/29/ecl-on-iphone-update/">ECL on iPhone update</a></h1><p class="post-meta">Posted on 29 Jan 2010</p></header><div class="post-content"><p>
I've just checked in a significant set of changes to the
<a href="http://github.com/kriyative/ecl-iphone-builder">ecl-iphone-builder</a> repository, incuding the following updates:
</p>

<ul class="org-ul">
<li>builds with ECL 9.12.3
</li>
<li>requires the CVS head version of the Boehm Weiss collector
</li>
<li>smoother build process (should "just work")
</li>
<li>better SLIME integration (with :spawn communication style as the default)
</li>
<li>expanded `eclshell' example (more goodies to follow)
</li>
</ul>

<p>
As always feedback and bug reports are appreciated.
</p>
</div><footer class="post-footer"></footer></article><article class="post format-standard"><header class="post-header"><h1 class="post-title"><a href="/2009/12/29/a-lightweight-bind-macro/">A lightweight `bind' macro</a></h1><p class="post-meta">Posted on 29 Dec 2009</p></header><div class="post-content"><p>
In my recent work I found myself writing a lot of code that looked
like the following:
</p>

<pre class="example">
(destructuring-bind (x y)
    point
  (destructuring-bind (x1 y1 w h)
      frame
    (let ((x2 (+ x1 w))
          (y2 (+ y1 h)))
      (and (&gt;= x x1) (&lt;= x x2) (&gt;= y y1) (&lt;= y y2)))))
</pre>

<p>
The above example is a bit contrived, for effect, but hopefully
conveys the general idea.
</p>

<p>
What I wanted was a Clojure style `let' which could destructure
inline. There was one Common Lisp implementation
(<a href="http://common-lisp.net/project/metabang-bind/">http://common-lisp.net/project/metabang-bind/</a>), which had some nice
features, but it was bit much for my needs. So I came up with my own
lightweight <code>bind</code> macro (see below), which lets me rewrite the above
example as:
</p>

<pre class="example">
(bind (((x y) point)
       ((x1 y1 w h) frame)
       (x2 (+ x1 w))
       (y2 (+ y1 h)))
  (and (&gt;= x x1) (&lt;= x x2) (&gt;= y y1) (&lt;= y y2)))
</pre>

<p>
Way better, IMHO.
</p>

<p>
Oh, here's the `bind' macro in its entirety:
</p>

<pre class="example">
(defmacro bind (clauses &amp;body body)
  "This macro combines the behaviour of the forms `let*', `destructuring-bind',
and `multiple-value-bind', permitting the following style of binding form:
 
  (bind (((:values m n) (values 10 20))
         ((a b &amp;key (c 10)) '(1 2))
         (x 5))
    (+ x a b c m n))
  =&gt; 48
 
This is a more limited and lightweight implementation of some ideas from
metabang-bind (http://common-lisp.net/project/metabang-bind/)."
  (cond
    ((null clauses) `(progn ,@body))
    ((and (listp (caar clauses)) (eq (caaar clauses) :values))
     `(multiple-value-bind ,(cdaar clauses)
          ,@(cdar clauses)
        (bind ,(cdr clauses) ,@body)))
    ((listp (caar clauses))
     `(destructuring-bind ,(caar clauses)
          ,@(cdar clauses)
        (bind ,(cdr clauses) ,@body)))
    (t
     `(let (,(car clauses))
        (bind ,(cdr clauses) ,@body)))))
</pre>
</div><footer class="post-footer"></footer></article><article class="post format-standard"><header class="post-header"><h1 class="post-title"><a href="/2009/12/14/community-funded-clojure/">community funded clojure</a></h1><p class="post-meta">Posted on 14 Dec 2009</p></header><div class="post-content"><p>
Rich Hickey <a href="http://groups.google.com/group/clojure/browse_frm/thread/cc77df25e98ce46b">posted</a> a compelling message about funding the future
development of Clojure.
</p>

<p>
I donated, and urge all Lispers to consider the same. Clojure maybe
one of the best things to happen to Lisp in a long while, and it and
Rich are most deserving of our continued support.
</p>

<p>
Donate at <a href="http://clojure.org">clojure.org</a>.
</p>
</div><footer class="post-footer"></footer></article><div class="pager-left"><a href="/latest-posts/1/">&laquo; Older Entries</a></div><div class="pager-right"><a href="/latest-posts/3/">Newer Entries &raquo;</a></div></div><aside id="sidebar"><section class="panel"><p><img id="profile-pic" src="http://www.gravatar.com/avatar/6dcf36ddd0aa73e04e125e3c10f6ff05.png" />Hi, I'm Ram Krishnan - a <a href="http://en.wikipedia.org/wiki/Lisp_(programming_language)">Lisp</a> programmer and software entrepreneur.</p></section><section class="panel"><h1>Links</h1><ul><li><a href="https://github.com/kriyative">Github</a></li><li><a href="http://www.ingeniousmonkey.com">IngeniousMonkey</a></li></ul><p>I sometimes post on <a href="http://twitter.com/funcall">twitter</a>.</p></section><section class="panel"><h1>Recent posts</h1><ul><li><a href="/2013/03/03/clojure-mode-and-slime/"> clojure-mode and slime</a></li><li><a href="/2013/03/02/clojure-emacs-docs-redux/"> clojure, emacs, and docs redux</a></li><li><a href="/2013/02/20/new-site/"> New Site</a></li><li><a href="/2012/07/28/emacs-for-clojure-2/">Emacs for Clojure - Part 2</a></li><li><a href="/2012/07/21/emacs-for-clojure-1/">Emacs for Clojure - Part 1</a></li><li><a href="/2011/03/26/ecl-for-ios-updated/">ECL for iOS update for ECL-11.1.1, Xocde 4, and SDK 4.3</a></li><li><a href="/2011/01/10/clojurejs-announcement/">clojurejs -- a Clojure (subset) to Javascript translator</a></li><li><a href="/2010/12/20/lisp-functions-ui-callbacks-ecl-ios/">Lisp functions as UI callbacks in ECL/iOS</a></li><li><a href="/2010/12/14/ecl-for-ios-updated/">ECL for iOS updated to work with SDK 4.2</a></li><li><a href="/2010/03/23/daily-org-agenda-reminder/">Displaying a daily Org-mode agenda reminder in Emacs</a></li></ul></section></aside></div></div><footer id="addendum"><div class="sleeve"><p id="copyright">Copyright © 2012–2013 Ram Krishnan</p></div></footer></body></html>